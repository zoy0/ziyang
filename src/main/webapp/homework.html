<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Anyview | 可调试的编程作业平台</title>
</head>
<body>
<script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script type="text/javascript" src="js/jquery.cookie.js"></script>
<script src="js/my.js"></script>
<script type="text/javascript">
    $.ajax({
        //几个参数需要注意一下
        type: "GET",//方法类型
        dataType: "json",//预期服务器返回的数据类型
        url: "/student/"+$.cookie("studentId")+"/course/"+getQueryVariable("id")+"/studentTasks" ,//url
        success: function (result) {
            console.log(result);//打印服务端返回的数据(调试用)
            for(let i =0; i < result.length;i++) //data.data指的是数组，数组里是8个对象，i为数组的索引
            {
                let tr;
                let operation;
                if (new Date().getTime()>result[i].endTime) operation='<td><a href="#">查看</a></td>';
                else operation=operation='<td><a href="dohomework.html?stId='+result[i].studentTaskId+'">修改</a></td>';
                tr='<td>'+(i+1)+'</td>' +
                    '<td>'+result[i].subjectName+'</td>'+
                    '<td>'+result[i].problemNumber+'</td>'+
                    '<td>'+result[i].totalScore+'</td>'+
                    '<td>'+timestampToTime(result[i].endTime)+'</td>'+
                    '<td>'+result[i].finishNumber+'</td>'+
                    '<td>'+result[i].state+'</td>'+operation
                $("#classTable").append('<tr>'+tr+'</tr>')
            }
        },
        error : function() {
            alert("异常！");
        }
    });

</script>
<table id="classTable">
    <tr>
        <th>序号</th>
        <th>作业名称</th>
        <th>题数</th>
        <th>总分</th>
        <th>截止时间</th>
        <th>已完成题数</th>
        <th>状态</th>
        <th>操作</th>
    </tr>
</table>

</body>
</html>